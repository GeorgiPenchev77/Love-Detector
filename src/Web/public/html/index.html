<!DOCTYPE html>
<html>

<head>
    <title> The Love Detector </title>
    <link rel="icon" href="./assets/images/Heart-Image.webp" type="image/x-icon">
    <link rel="stylesheet" href="./css/index-style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
</head>

<body>
    <div class="heading-container">
        <h1>Welcome to Love Detector!</h1>
        <h3>The Love Detector allows for a fun speed dating experience. <br></br> Answer these fun questions and see how
            your heartbeat corresponds to your partner!</h3>
    </div>
    <div class="users">
        <div class="user-container">
            <h2>User 1</h2>
            <div class="input">
                <label>Please enter your name:</label>
                <input type="text" id="userName1" />
            </div>
            <div class="input">
                <label>Please enter your pronouns:</label>
                <input type="text" id="userPronouns1" />
            </div>
        </div>
        <div class="user-container">
            <h2>User 2</h2>
            <div class="input">
                <label>Please enter your name:</label>
                <input type="text" id="userName2" />
            </div>
            <div class="input">
                <label>Please enter your pronouns:</label>
                <input type="text" id="userPronouns2" />
            </div>
        </div>
    </div>
    <div class="button-container">
        <button type="button" class="start-button" onclick="saveUserInfo()">
            <img class="next-button-picture" src="./assets/images/Next-Button.png" alt="Continue"/>
        </button>
    </div>
</body>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>

<script>
    function saveUserInfo() {
       
        // Get the input values
        var userName1 = document.getElementById("userName1").value;
        var userPronouns1 = document.getElementById("userPronouns1").value;
        var userName2 = document.getElementById("userName2").value;
        var userPronouns2 = document.getElementById("userPronouns2").value;

        //Ensure that name fields are filled in
        if (!userName1 || !userName2) {
            alert("please fill in all name fields");
            return;
        } else {
            // Store the user info in session storage
            sessionStorage.setItem("userName1", userName1);
            sessionStorage.setItem("userPronouns1", userPronouns1);
            sessionStorage.setItem("userName2", userName2);
            sessionStorage.setItem("userPronouns2", userPronouns2);

            // Redirect to the next page
            window.location.href = "./start-date-page.html";
        }
    }

    var socket = io();
    socket.on("message", (msg) => {
        console.log(msg);
    });

</script>

</html>